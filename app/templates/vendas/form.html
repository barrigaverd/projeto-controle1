{% extends 'base.html' %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h3>{{ page_title }}</h3>
    </div>
    <div class="card-body">
        <form method="POST" novalidate>
            {{ form.hidden_tag() }}
            <div class="row">
                <div class="col-12 mb-3">
                    {{ form.tipo_venda.label(class="form-label") }}<br>{{ form.tipo_venda(required=True) }}
                    {% if form.tipo_venda.errors %}<div class="text-danger small">{% for e in form.tipo_venda.errors %}{{ e }}{% endfor %}</div>{% endif %}
                </div>
                <div class="col-md-6 mb-3">
                    {{ form.cliente.label(class="form-label") }}
                    {{ form.cliente(class="form-select" + (" is-invalid" if form.cliente.errors else ""), required=True) }}
                    {% if form.cliente.errors %}<div class="invalid-feedback">{% for e in form.cliente.errors %}<span>{{ e }}</span>{% endfor %}</div>{% endif %}
                </div>
                 <div class="col-md-6 mb-3">
                    {{ form.produto.label(class="form-label") }}
                    {{ form.produto(class="form-select" + (" is-invalid" if form.produto.errors else ""), required=True) }}
                    {% if form.produto.errors %}<div class="invalid-feedback">{% for e in form.produto.errors %}<span>{{ e }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="col-md-6 mb-3">
                    {{ form.data_venda.label(class="form-label") }}
                    {{ form.data_venda(class="form-control" + (" is-invalid" if form.data_venda.errors else ""), required=True) }}
                    {% if form.data_venda.errors %}<div class="invalid-feedback">{% for e in form.data_venda.errors %}<span>{{ e }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="col-md-6 mb-3">
                    {{ form.qtdade.label(class="form-label") }}
                    {{ form.qtdade(class="form-control" + (" is-invalid" if form.qtdade.errors else ""), required=True) }}
                    {% if form.qtdade.errors %}<div class="invalid-feedback">{% for e in form.qtdade.errors %}<span>{{ e }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="col-md-6 mb-3">
                    {{ form.valor_venda.label(class="form-label") }}
                    {{ form.valor_venda(class="form-control" + (" is-invalid" if form.valor_venda.errors else ""), type="number", step="0.01", required=True) }}
                    {% if form.valor_venda.errors %}<div class="invalid-feedback">{% for e in form.valor_venda.errors %}<span>{{ e }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="col-md-6 mb-3">
                    {{ form.valor_recebido.label(class="form-label") }}
                    {{ form.valor_recebido(class="form-control" + (" is-invalid" if form.valor_recebido.errors else ""), type="number", step="0.01", required=True) }}
                    {% if form.valor_recebido.errors %}<div class="invalid-feedback">{% for e in form.valor_recebido.errors %}<span>{{ e }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="col-md-12 mb-3">
                    {{ form.forma_pagamento.label(class="form-label") }}
                    {{ form.forma_pagamento(class="form-control" + (" is-invalid" if form.forma_pagamento.errors else ""), required=True) }}
                    {% if form.forma_pagamento.errors %}<div class="invalid-feedback">{% for e in form.forma_pagamento.errors %}<span>{{ e }}</span>{% endfor %}</div>{% endif %}
                </div>
                 <div class="col-md-12 mb-3">
                    {{ form.observacoes.label(class="form-label") }}
                    {{ form.observacoes(class="form-control") }}
                </div>
            </div>
            <hr>
            {{ form.submit(class="btn btn-primary") }}
            <a href="{{ url_for('vendas.index') }}" class="btn btn-secondary">Cancelar</a>
        </form>
    </div>
</div>
{% endblock %}